<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  File: README
  
    &mdash; Documentation by YARD 0.9.15
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "README";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><div id='filecontents'><h1 id="waxtasks-">wax_tasks ğŸ</h1>
<p><a href="https://badge.fury.io/rb/wax_tasks"><img src="https://badge.fury.io/rb/wax_tasks.svg" alt="Gem Version" /></a> <img src="https://img.shields.io/badge/license-MIT-yellowgreen.svg" alt="License" /> <a href="https://travis-ci.org/mnyrop/wax_tasks"><img src="https://travis-ci.org/mnyrop/wax_tasks.svg?branch=rubocop" alt="Build Status" /></a> <img src="https://img.shields.io/librariesio/github/mnyrop/wax_tasks.svg" alt="Libraries.io for GitHub" /></p>

<p><a href="https://codeclimate.com/github/mnyrop/wax_tasks/maintainability"><img src="https://api.codeclimate.com/v1/badges/5974d49e115dadf9f8df/maintainability" alt="Maintainability" /></a> <a href="https://codeclimate.com/github/mnyrop/wax_tasks/test_coverage"><img src="https://api.codeclimate.com/v1/badges/5974d49e115dadf9f8df/test_coverage" alt="Test Coverage" /></a> <a href="https://www.rubydoc.info/github/mnyrop/wax_tasks"><img src="http://img.shields.io/badge/docs-rdoc.info-blue.svg" alt="" /></a></p>

<p><strong>wax_tasks</strong> is gem-packaged set of <a href="https://ruby.github.io/rake/">Rake</a> tasks for creating minimal exhibition sites with <a href="https://jekyllrb.com/">Jekyll</a>, <a href="http://iiif.io">IIIF</a>, and <a href="http://elasticlunr.com/">ElasticLunr.js</a>.</p>

<p>It can be used to generate collection markdown pages from a data file (<a href="#waxpagemaster">wax:pagemaster</a>), generate a client-side search index (<a href="#waxlunr">wax:lunr</a>), generate IIIF-compliant derivatives (both Image + Presentation API) from local image files (<a href="#waxiiif">wax:iiif</a>), and more.</p>

<p>Looking for a Jekyll theme that works with <a href="">wax_tasks</a>? Check out <a href="https://minicomp.github.io/wax/">minicomp/wax</a>.</p>

<h2 id="sh">```sh</h2>
<p>NOTEÂ Â» wax_tasks is being developed rapidly. it will be relatively 
        volatile leading up to the beta release (v0.5.0).
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€“
```</p>

<p><br />
<img src="https://raw.githubusercontent.com/minicomp/wiki/master/docs/assets/wax_screen.gif" /></p>

<h1 id="getting-started">Getting Started</h1>

<h2 id="prerequisites">Prerequisites</h2>

<p>Youâ€™ll need <code>Ruby &gt;= 2.2</code> with <code>bundler</code> installed. Check your versions with:
```bash
$ ruby -v
  ruby 2.4.2p198 (2017-09-14 revision 59899) [x86_64-darwin15]</p>

<p>$ bundler -v
  Bundler version 1.16.1
```</p>

<p>To use the IIIF task, you will also need to have ImageMagick installed and functional. You can check to see if you have ImageMagick by running:
<code>bash
$ convert -version
  Version: ImageMagick 6.9.9-20 Q16 x86_64 2017-10-15 http://www.imagemagick.org
  Copyright: Ã‚Å  1999-2017 ImageMagick Studio LLC
  License: http://www.imagemagick.org/script/license.php
  Features: Cipher DPC Modules
  Delegates (built-in): bzlib freetype jng jpeg ltdl lzma png tiff xml zlib
</code></p>

<p>Next, youâ€™ll need a Jekyll site. You can clone the <a href="https://github.com/minicomp/wax/">minicomp/wax demo site</a> or start a site from scratch with:</p>

<p><code>sh
$ gem install jekyll
$ jekyll new wax &amp;&amp; cd wax
</code></p>

<h2 id="installation">Installation</h2>

<p>Add <code>wax_tasks</code> to your Jekyll siteâ€™s <code>Gemfile</code>:</p>

<p><code>ruby
gem 'wax_tasks'
</code></p>

<p>â€¦ and install with bundler:</p>

<p><code>bash
$ bundle install
</code></p>

<p>Create a <code>Rakefile</code> with the following:
<code>ruby
spec = Gem::Specification.find_by_name 'wax_tasks'
Dir.glob("#{spec.gem_dir}/lib/tasks/*.rake").each { |r| load r }
</code></p>

<h1 id="usage">Usage</h1>

<p>After following the installation instructions above, you will have access to the Rake tasks in your shell by running <code>$ bundle exec rake wax:taskname</code> in the root directory of your Jekyll site.</p>

<p><br />
<img src="https://media.giphy.com/media/e7OR7qbQjF2ocNVS7V/giphy.gif" /></p>

<h2 id="sample-site-configyml-file">Sample site <code>_config.yml</code> file:</h2>

<p>```yaml
# basic settings
title: Wax.
description: a jekyll theme for minimal exhibitions
url: â€˜â€™
baseurl: â€˜/waxâ€™</p>

<h1 id="build-settings">build settings</h1>
<p>permalink: pretty # optional, creates <code>/page/</code> link instead of <code>page.html</code> link
collections_dir: â€˜â€™ # optional, allows you to tidy up and keep collections
                       # (see below) inside a directory (as of jekyll 3.7)</p>

<h1 id="wax-collection-settings">wax collection settings</h1>
<p>collections:
  objects: # Â«Â the collection name, which will be the directory pagemaster makes
    source: objects.csv # ^^ it will also be used in creating permalinks for the pages
    layout: iiif-image-page
    output: true # this must be true for your .md pages to be built to html!
    lunr_index:
      content: false # whether or not to index the markdown page content (below the YAML)
      fields: # the metadata fields to index
        - title
        - artist
        - location
        - _date
        - object_type
        - current_location
    iiif:
      meta:
        label: title
        location: current_location
        # in this example, <code>label</code> will be the metadata field in the IIIF manifest,
        # and it will be populated by the <code>title</code> column from objects.csv;
        # likewise, <code>location</code> will pull from the <code>current_location</code> field.
```</p>

<p>The above example includes a single collection <code>objects</code> that comprises:
1. a CSV <code>source</code> file (<code>objects.csv</code>), and
2. a directory of images files.</p>

<p><strong>wax_tasks</strong> will expect to find the <code>source</code> file in the <code>_data</code> directory, i.e., at <code>_data/objects.csv</code>. It will also expect to find the source images in a directory named after the collection within <code>_data/iiif</code>, i.e., <code>_data/iiif/objects/*.jpg</code>. Some tasks will require you to invoke the collection by name, e.g., <code>$ bundle exec rake wax:pagemaster objects</code> and <code>$ bundle exec rake wax:iiif objects</code>.</p>

<p>For more information on configuring Jekyll collections for <strong>wax_tasks</strong>, check out the <a href="https://minicomp.github.io/wiki/#/wax/">minicomp/wax wiki</a> and <a href="https://jekyllrb.com/docs/collections/">https://jekyllrb.com/docs/collections/</a>.</p>

<h2 id="running-the-tasks">Running the tasks</h2>

<h3 id="waxpagemaster">wax:pagemaster</h3>

<p>Takes a CSV, JSON, or YAML file of collection metadata and generates a <a href="https://daringfireball.net/projects/markdown/syntax">markdown</a> page for each record to a directory using a specified layout. <a href="https://minicomp.github.io/wiki/#/wax/tasks/pagemaster?id=top">Read More</a>.</p>

<p><code>$ bundle exec rake wax:pagemaster collection-name</code></p>

<h3 id="waxlunr">wax:lunr</h3>

<p>Generates a client-side JSON search index of your site for use with <a href="http://elasticlunr.com/">ElasticLunr.js</a>. <a href="https://minicomp.github.io/wiki/#/wax/tasks/lunr?id=top">Read More</a>.</p>

<p><code>$ bundle exec rake wax:lunr</code></p>

<h2 id="sh-1">```sh</h2>
<p>NOTEÂ Â» wax_lunr will also generate a default lunr UI to use if you run:
        $ bundle exec rake wax:lunr UI=true
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
```</p>

<h3 id="waxiiif">wax:iiif</h3>

<p>Takes a local directory of images and generates tiles and data that work with a IIIF compliant image viewer like <a href="https://openseadragon.github.io/">OpenSeaDragon</a>, <a href="http://projectmirador.org/">Mirador</a>, or <a href="https://github.com/mejackreed/Leaflet-IIIF">Leaflet IIIF</a>. <a href="https://minicomp.github.io/wiki/#/wax/tasks/iiif?id=top">Read More</a>.</p>

<p><code>$ bundle exec rake wax:iiif collection-name</code></p>

<h3 id="waxtest">wax:test</h3>

<p>Runs <a href="https://github.com/gjtorikian/html-proofer"><code>htmlproofer</code></a> on your compiled site to look for broken links, HTML errors, and accessibility concerns. Runs <a href="http://rspec.info/">Rspec</a> tests if a <code>.rspec</code> file is present. <a href="https://minicomp.github.io/wiki/#/wax/tasks/test?id=top">Read More</a>.</p>

<p><code>$ bundle exec rake wax:test</code></p>

<h1 id="contributing">Contributing</h1>

<p>Fork/clone the repository. After making code changes, run the tests (<code>$ bundle exec rubocop</code> and <code>$ bundle exec rspec</code>) before submitting a pull request. You can enable verbose tests with <code>$ DEBUG=true bundle exec rspec</code>.</p>

<blockquote>
  <p><strong>Note:</strong> The cannonical repository is <a href="https://github.com/minicomp/wax_tasks/">minicomp/wax_tasks</a>. Please submit all issues and pull requests to the <a href="https://github.com/minicomp/wax_tasks/">minicomp/wax_tasks</a> repo.</p>
</blockquote>

<h2 id="sh-2">```sh</h2>
<p>NOTEÂ Â» The cannonical repository is minicomp/wax_tasks. 
        Please submit all issues and pull requests to the cannonical repo.
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
```</p>
<p align="right"><a href="https://github.com/minicomp/wax_tasks/">minicomp/wax_tasks ~&gt;</a></p>

<h1 id="license">License</h1>

<p>The gem is available as open source under the terms of the <a href="LICENSE">MIT License</a>.</p>
</div></div>

      <div id="footer">
  Generated on Thu Jul 26 15:42:20 2018 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.15 (ruby-2.4.3).
</div>

    </div>
  </body>
</html>